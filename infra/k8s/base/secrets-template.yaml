# Secret templates for database and Redis connections
# These will be populated by Terraform with actual values from Azure resources

apiVersion: v1
kind: Secret
metadata:
  name: aura-db-connection
  namespace: aura-audit-ai
type: Opaque
stringData:
  connection-string: "postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:5432/atlas?sslmode=require"
  host: "${POSTGRES_HOST}"
  port: "5432"
  database: "atlas"
  username: "${POSTGRES_USER}"
  password: "${POSTGRES_PASSWORD}"
---
apiVersion: v1
kind: Secret
metadata:
  name: aura-redis-connection
  namespace: aura-audit-ai
type: Opaque
stringData:
  connection-string: "rediss://:${REDIS_KEY}@${REDIS_HOST}:6380/0?ssl_cert_reqs=required"
  host: "${REDIS_HOST}"
  port: "6380"
  password: "${REDIS_KEY}"
---
# OpenAI API Key (must be set manually or via CI/CD)
apiVersion: v1
kind: Secret
metadata:
  name: aura-openai
  namespace: aura-audit-ai
type: Opaque
stringData:
  api-key: "${OPENAI_API_KEY}"
