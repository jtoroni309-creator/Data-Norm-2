apiVersion: v1
kind: ConfigMap
metadata:
  name: aura-config
  namespace: aura-audit-ai
  labels:
    app.kubernetes.io/name: aura-audit-ai
data:
  # Service Ports
  ANALYTICS_PORT: "8000"
  CONNECTORS_PORT: "8000"
  DISCLOSURES_PORT: "8000"
  ENGAGEMENT_PORT: "8000"
  IDENTITY_PORT: "8000"
  INGESTION_PORT: "8000"
  LLM_PORT: "8000"
  NORMALIZE_PORT: "8000"
  QC_PORT: "8000"
  REPORTING_PORT: "8000"

  # CORS Configuration
  CORS_ORIGINS: '["https://auraai.toroniandcompany.com","https://www.auraai.toroniandcompany.com","https://admin.auraai.toroniandcompany.com","https://portal.auraai.toroniandcompany.com","https://cpa.auraai.toroniandcompany.com","https://rdclient.auraai.toroniandcompany.com","http://localhost:3000","http://localhost:5173"]'

  # Embedding Configuration
  EMBEDDING_DIMENSION: "384"
  EMBEDDING_MODEL: "sentence-transformers/all-MiniLM-L6-v2"

  # JWT Configuration
  JWT_ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  JWT_ALGORITHM: "HS256"
  JWT_REFRESH_TOKEN_EXPIRE_DAYS: "7"

  # OpenAI Configuration (Regular OpenAI, not Azure)
  OPENAI_MAX_TOKENS: "4096"
  OPENAI_MODEL: "gpt-4-turbo-preview"
  OPENAI_TEMPERATURE: "0.1"

  # Analytics Thresholds
  OUTLIER_Z_SCORE_THRESHOLD: "3.0"
  ROUND_DOLLAR_THRESHOLD: "0.001"

  # RAG Configuration
  RAG_CHUNK_OVERLAP: "50"
  RAG_CHUNK_SIZE: "512"
  RAG_SIMILARITY_THRESHOLD: "0.7"
  RAG_TOP_K: "5"

  # Storage Configuration (MinIO)
  STORAGE_ENDPOINT: "minio.aura-audit-ai.svc.cluster.local:9000"
  STORAGE_ACCESS_KEY: "minioadmin"
  STORAGE_SECRET_KEY: "minioadmin"
  STORAGE_SECURE: "false"

  # Tax Services Configuration
  ENCRYPTION_KEY: "aura-audit-ai-encryption-key-change-in-production"

  # Logging
  LOG_LEVEL: "INFO"

  # Environment
  ENVIRONMENT: "production"
